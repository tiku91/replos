import {findPathToAstLocation} from './ast';

describe('findPathToAstLocation', () => {
   
	test('works as expected',  () => {
	    const type = "VariableDeclaration";
		const ast:any = {"type":"File","start":0,"end":82,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":0}},"errors":[],"program":{"type":"Program","start":0,"end":82,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":0}},"sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","start":0,"end":81,"loc":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"declarations":[{"type":"VariableDeclarator","start":6,"end":80,"loc":{"start":{"line":1,"column":6},"end":{"line":4,"column":1}},"id":{"type":"Identifier","start":6,"end":21,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":21},"identifierName":"getHelloMessage"},"name":"getHelloMessage"},"init":{"type":"ArrowFunctionExpression","start":24,"end":80,"loc":{"start":{"line":1,"column":24},"end":{"line":4,"column":1}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":30,"end":80,"loc":{"start":{"line":1,"column":30},"end":{"line":4,"column":1}},"body":[{"type":"VariableDeclaration","start":36,"end":54,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":22}},"declarations":[{"type":"VariableDeclarator","start":42,"end":53,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":21}},"id":{"type":"Identifier","start":42,"end":43,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":11},"identifierName":"a"},"name":"a"},"init":{"type":"StringLiteral","start":46,"end":53,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"extra":{"rawValue":"jello","raw":"'jello'"},"value":"jello"}}],"kind":"var"},{"type":"ReturnStatement","start":59,"end":78,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}},"argument":{"type":"BinaryExpression","start":66,"end":77,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":22}},"left":{"type":"Identifier","start":66,"end":67,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":12},"identifierName":"a"},"name":"a"},"operator":"+","right":{"type":"StringLiteral","start":70,"end":77,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":22}},"extra":{"rawValue":"Hello","raw":"\"Hello\""},"value":"Hello"}}}],"directives":[]}}}],"kind":"var"}],"directives":[]},"comments":[]};
		const location = {"file":"./e2e/res/testFile04.js","line":2,"column":19};

	    const actualResult = findPathToAstLocation(type)(ast)(location);
	    const expectedResult = [{"type":"VariableDeclaration","start":36,"end":54,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":22}},"declarations":[{"type":"VariableDeclarator","start":42,"end":53,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":21}},"id":{"type":"Identifier","start":42,"end":43,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":11},"identifierName":"a"},"name":"a"},"init":{"type":"StringLiteral","start":46,"end":53,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"extra":{"rawValue":"jello","raw":"'jello'"},"value":"jello"}}],"kind":"var"},{"type":"BlockStatement","start":30,"end":80,"loc":{"start":{"line":1,"column":30},"end":{"line":4,"column":1}},"body":[{"type":"VariableDeclaration","start":36,"end":54,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":22}},"declarations":[{"type":"VariableDeclarator","start":42,"end":53,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":21}},"id":{"type":"Identifier","start":42,"end":43,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":11},"identifierName":"a"},"name":"a"},"init":{"type":"StringLiteral","start":46,"end":53,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"extra":{"rawValue":"jello","raw":"'jello'"},"value":"jello"}}],"kind":"var"},{"type":"ReturnStatement","start":59,"end":78,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}},"argument":{"type":"BinaryExpression","start":66,"end":77,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":22}},"left":{"type":"Identifier","start":66,"end":67,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":12},"identifierName":"a"},"name":"a"},"operator":"+","right":{"type":"StringLiteral","start":70,"end":77,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":22}},"extra":{"rawValue":"Hello","raw":"\"Hello\""},"value":"Hello"}}}],"directives":[]},{"type":"ArrowFunctionExpression","start":24,"end":80,"loc":{"start":{"line":1,"column":24},"end":{"line":4,"column":1}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":30,"end":80,"loc":{"start":{"line":1,"column":30},"end":{"line":4,"column":1}},"body":[{"type":"VariableDeclaration","start":36,"end":54,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":22}},"declarations":[{"type":"VariableDeclarator","start":42,"end":53,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":21}},"id":{"type":"Identifier","start":42,"end":43,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":11},"identifierName":"a"},"name":"a"},"init":{"type":"StringLiteral","start":46,"end":53,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"extra":{"rawValue":"jello","raw":"'jello'"},"value":"jello"}}],"kind":"var"},{"type":"ReturnStatement","start":59,"end":78,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}},"argument":{"type":"BinaryExpression","start":66,"end":77,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":22}},"left":{"type":"Identifier","start":66,"end":67,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":12},"identifierName":"a"},"name":"a"},"operator":"+","right":{"type":"StringLiteral","start":70,"end":77,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":22}},"extra":{"rawValue":"Hello","raw":"\"Hello\""},"value":"Hello"}}}],"directives":[]}},{"type":"VariableDeclarator","start":6,"end":80,"loc":{"start":{"line":1,"column":6},"end":{"line":4,"column":1}},"id":{"type":"Identifier","start":6,"end":21,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":21},"identifierName":"getHelloMessage"},"name":"getHelloMessage"},"init":{"type":"ArrowFunctionExpression","start":24,"end":80,"loc":{"start":{"line":1,"column":24},"end":{"line":4,"column":1}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":30,"end":80,"loc":{"start":{"line":1,"column":30},"end":{"line":4,"column":1}},"body":[{"type":"VariableDeclaration","start":36,"end":54,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":22}},"declarations":[{"type":"VariableDeclarator","start":42,"end":53,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":21}},"id":{"type":"Identifier","start":42,"end":43,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":11},"identifierName":"a"},"name":"a"},"init":{"type":"StringLiteral","start":46,"end":53,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"extra":{"rawValue":"jello","raw":"'jello'"},"value":"jello"}}],"kind":"var"},{"type":"ReturnStatement","start":59,"end":78,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}},"argument":{"type":"BinaryExpression","start":66,"end":77,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":22}},"left":{"type":"Identifier","start":66,"end":67,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":12},"identifierName":"a"},"name":"a"},"operator":"+","right":{"type":"StringLiteral","start":70,"end":77,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":22}},"extra":{"rawValue":"Hello","raw":"\"Hello\""},"value":"Hello"}}}],"directives":[]}}},{"type":"VariableDeclaration","start":0,"end":81,"loc":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"declarations":[{"type":"VariableDeclarator","start":6,"end":80,"loc":{"start":{"line":1,"column":6},"end":{"line":4,"column":1}},"id":{"type":"Identifier","start":6,"end":21,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":21},"identifierName":"getHelloMessage"},"name":"getHelloMessage"},"init":{"type":"ArrowFunctionExpression","start":24,"end":80,"loc":{"start":{"line":1,"column":24},"end":{"line":4,"column":1}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":30,"end":80,"loc":{"start":{"line":1,"column":30},"end":{"line":4,"column":1}},"body":[{"type":"VariableDeclaration","start":36,"end":54,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":22}},"declarations":[{"type":"VariableDeclarator","start":42,"end":53,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":21}},"id":{"type":"Identifier","start":42,"end":43,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":11},"identifierName":"a"},"name":"a"},"init":{"type":"StringLiteral","start":46,"end":53,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"extra":{"rawValue":"jello","raw":"'jello'"},"value":"jello"}}],"kind":"var"},{"type":"ReturnStatement","start":59,"end":78,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}},"argument":{"type":"BinaryExpression","start":66,"end":77,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":22}},"left":{"type":"Identifier","start":66,"end":67,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":12},"identifierName":"a"},"name":"a"},"operator":"+","right":{"type":"StringLiteral","start":70,"end":77,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":22}},"extra":{"rawValue":"Hello","raw":"\"Hello\""},"value":"Hello"}}}],"directives":[]}}}],"kind":"var"},{"type":"Program","start":0,"end":82,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":0}},"sourceType":"script","interpreter":null,"body":[{"type":"VariableDeclaration","start":0,"end":81,"loc":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"declarations":[{"type":"VariableDeclarator","start":6,"end":80,"loc":{"start":{"line":1,"column":6},"end":{"line":4,"column":1}},"id":{"type":"Identifier","start":6,"end":21,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":21},"identifierName":"getHelloMessage"},"name":"getHelloMessage"},"init":{"type":"ArrowFunctionExpression","start":24,"end":80,"loc":{"start":{"line":1,"column":24},"end":{"line":4,"column":1}},"id":null,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":30,"end":80,"loc":{"start":{"line":1,"column":30},"end":{"line":4,"column":1}},"body":[{"type":"VariableDeclaration","start":36,"end":54,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":22}},"declarations":[{"type":"VariableDeclarator","start":42,"end":53,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":21}},"id":{"type":"Identifier","start":42,"end":43,"loc":{"start":{"line":2,"column":10},"end":{"line":2,"column":11},"identifierName":"a"},"name":"a"},"init":{"type":"StringLiteral","start":46,"end":53,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"extra":{"rawValue":"jello","raw":"'jello'"},"value":"jello"}}],"kind":"var"},{"type":"ReturnStatement","start":59,"end":78,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}},"argument":{"type":"BinaryExpression","start":66,"end":77,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":22}},"left":{"type":"Identifier","start":66,"end":67,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":12},"identifierName":"a"},"name":"a"},"operator":"+","right":{"type":"StringLiteral","start":70,"end":77,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":22}},"extra":{"rawValue":"Hello","raw":"\"Hello\""},"value":"Hello"}}}],"directives":[]}}}],"kind":"var"}],"directives":[]}];

	    expect(actualResult).toEqual(expectedResult);
	});
});
